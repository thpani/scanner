<!doctype html>
<html lang="en">
  <head>
    <title>Scanner Admin</title>
    <link rel="stylesheet" href="node_modules/ng-admin/build/ng-admin.min.css">
  </head>
  <body ng-app="myApp">
    <div ui-view="ng-admin"></div>
    <script src="node_modules/ng-admin/build/ng-admin.min.js"></script>
    <script type="text/javascript">
    var myApp = angular.module('myApp', ['ng-admin']);
    myApp.config(['NgAdminConfigurationProvider', function(nga) {
      var admin = nga.application('Scanner Admin');
      var list = nga.entity('lists');
      list.listView().fields([
        nga.field('id').label('Wunderlist List ID'),
        nga.field('name')
      ]);
      list.creationView().fields(list.listView().fields());
      list.editionView().fields(list.listView().fields());
      admin.addEntity(list);
      var product = nga.entity('products').identifier(nga.field('ean'));
      product.listView().fields([
        nga.field('ean')
          .isDetailLink(true)
          .label('EAN'),
        nga.field('name'),
        nga.field('list', 'reference')
          .targetEntity(list)
          .targetField(nga.field('name'))
          .label('List')
      ]);
      product.creationView().fields(product.listView().fields());
      product.editionView().fields(product.listView().fields());
      admin.addEntity(product);
      nga.configure(admin);
    }]);
    </script>
  </body>
</html>
